<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
<link rel="stylesheet" href="rankingstyle.css">
<script src="https://use.fontawesome.com/926fe18a63.js"></script>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
// 토글 버튼 작동
$(function(){
    $(".headC").click(function(){
        $(".headB").slideToggle();
    });
});
</script>

<title>T.F.T</title>
</head>

<body>
<!-- 헤더 -->    
<header>
    <div class="container">        
        <div class="container-small"> <!-- 작은 화면의 배치를 위한 컨테이너-->
            <a href="index.html" class="headA">TFT사무실</a>

            <!-- 메뉴 토글 버튼 -->
            <button type="button" class="headC">
                <span class="fa fa-bars" title="MENU"></span>
            </button>
        </div>

        <!-- 내비게이션 메뉴 -->
        <nav class="headB">
            <ul>
                <li><a href="index.html">TOP</a></li>
                <li><a href="contents.html">콘텐츠</a></li>
                <li><a href="ranking.html">순위표(챌린저~마스터)</a></li>
                <li><a href="record.html">순위표(다이아~아이언)</a></li>
                <li><a href="support.html">파일철</a></li>
            </ul>
        </nav>
    </div>
</header>

<!-- 컨텐츠A -->
<section class="conA">
    <div class="container">
        <!-- 히어로 이미지 -->
        <img alt="">
        <h1>순위검색</h1>
        <p>천상계의 순위표 확인가능</p>
        <a href="#chall">챌린저~마스터</a>
    </div>
</section>



<body>
    <h2 id="chall">챌린저</h2>
    <form>

    <button type="button" onclick="loadData()">챌린저 확인하기</button>
    <button type="button" onclick="loadData1()">그랜드마스터 확인하기</button>
    <button type="button" onclick="loadData2()">마스터 확인하기</button>
    <button type="button" onclick="removeTable()">지우기</button>
    </form>
    <br><br>
    <hr>
    <table id="demoJSON"></table>
    
    <script>
     var api_key = "RGAPI-31e2934f-3f6e-4d0e-a99e-ab558fefa3e7";
    
    
     function removeTable(){
     document.getElementById('demoJSON').removeChild(document.getElementById('demoJSON').childNodes[0]);
      }
    
    function loadData() {
    
    
     let url, xhttp;
    
    url = `https://kr.api.riotgames.com/tft/league/v1/challenger?api_key=${api_key}`;
    
    xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function(){
    if(this.readyState == 4 && this.status == 200){
    //   alert(this.responseText);
    let jsonObj = JSON.parse(this.responseText);
    parseJSON(jsonObj);
       }
     };
    xhttp.open("GET", url, true);
    xhttp.send();
    
    } // end loadData()

    function loadData1() {
    
    
    let url, xhttp;
   
   url = `https://kr.api.riotgames.com/tft/league/v1/grandmaster?api_key=${api_key}`;
   
   xhttp = new XMLHttpRequest();
   xhttp.onreadystatechange = function(){
   if(this.readyState == 4 && this.status == 200){
   //   alert(this.responseText);
   let jsonObj = JSON.parse(this.responseText);
   parseJSON(jsonObj);
      }
    };
   xhttp.open("GET", url, true);
   xhttp.send();
   
   } // end loadData()

   function loadData2() {
    
    
    let url, xhttp;
   
   url = `https://kr.api.riotgames.com/tft/league/v1/master?api_key=${api_key}`;
   
   xhttp = new XMLHttpRequest();
   xhttp.onreadystatechange = function(){
   if(this.readyState == 4 && this.status == 200){
   //   alert(this.responseText);
   let jsonObj = JSON.parse(this.responseText);
   parseJSON(jsonObj);
      }
    };
   xhttp.open("GET", url, true);
   xhttp.send();
   
   } // end loadData()
            
            
            
    function parseJSON(jsonObj){

    const table = [];
    jsonObj.entries.sort(function(a, b){return b.leaguePoints - a.leaguePoints});
    table.push("<tr><th>닉네임</th><th>리그 포인트</th><th>랭킹</th><th>승수</th></tr>");

    for(entries of jsonObj.entries){
	table.push(`
	<tr>
		<td>${entries.summonerName}</td>
		<td>${entries.leaguePoints}</td>
		<td>${entries.rank}</td>
		<td>${entries.wins}</td>
	</tr>
	`);
    }

    document.getElementById('demoJSON').innerHTML = table.join('\n');

    }
</script>

<br>
</body>

    <!-- 푸터 -->
    <footer>
        <div class="container">
            <!-- 푸터A : 사이트 정보 -->
            <div class="footA">
                <h2>TFT사무실</h2>
                <p>
                    주소: 롤체지지<br>
                    <a href="http://lolchess.gg/">http://lolchess.gg</a>
                </p>
            </div>
            <!-- 푸터B : 푸터 메뉴 -->
            <nav class="footB">
                <div>
                    <h3>ABOUT</h3>
                    <ul>
                        <li><a href="#">설립</a></li>
                        <li><a href="#">주소</a></li>
                        <li><a href="#">지도</a></li>
                        <li><a href="#">스태프</a></li>
                    </ul>
                </div>
                <div>
                    <h3>SUPPORT</h3>
                    <ul>
                        <li><a href="#">다운로드</a></li>
                        <li><a href="#">매뉴얼</a></li>
                        <li><a href="#">자주 묻는 질문</a></li>
                        <li><a href="#">문의</a></li>
                    </ul>
                </div>
                <div>
                    <h3>CONTENTS</h3>
                    <ul>
                        <li><a href="#">공지사항</a></li>
                        <li><a href="#">비즈니스</a></li>
                        <li><a href="#">프로필</a></li>
                        <li><a href="#">개발자</a></li>
                        <li><a href="#">블로그</a></li>
                    </ul>
                </div>
            </nav>
            <!-- 푸터C : 저작권-->
            <div class="footC">
                © lolchess corp. All rights reserved.
            </div>
            <!-- 푸터D : SNS 아이콘 -->
            <nav class="footD">
                <ul>
                    <li><a href="#"><span class="fa fa-twitter" title="Twitter"></span></a></li>
                    <li><a href="#"><span class="fa fa-facebook" title="Facebook"></span></a></li>
                    <li><a href="#"><span class="fa fa-google-plus" title="Google Plus"></span></a></li>
                    <li><a href="#"><span class="fa fa-instagram" title="Instagram"></span></a></li>
                    <li><a href="#"><span class="fa fa-youtube" title="YouTube"></span></a></li>
                </ul>
            </nav>
        </div>

    </footer>

</html>


</html>

